# Tennessee Golf Courses - Professional Clean URLs
RewriteEngine On

# Remove .php extension from URLs (external redirect)
RewriteCond %{THE_REQUEST} /([^.]+)\.php [NC]
RewriteRule ^ /%1 [NC,L,R=301]

# Handle specific pages that conflict with directories
RewriteRule ^courses/?$ courses.php [L]
RewriteRule ^news/?$ news.php [L]
RewriteRule ^events/?$ events.php [L]
RewriteRule ^about/?$ about.php [L]
RewriteRule ^contact/?$ contact.php [L]
RewriteRule ^reviews/?$ reviews.php [L]
RewriteRule ^privacy-policy/?$ privacy-policy.php [L]
RewriteRule ^terms-of-service/?$ terms-of-service.php [L]
RewriteRule ^search-courses.php$ search-courses.php [L]

# Handle course pages (in subdirectory - alphabetical order)
RewriteRule ^courses/bear-trace-harrison-bay/?$ courses/bear-trace-harrison-bay.php [L]
RewriteRule ^courses/avalon-golf-country-club/?$ courses/avalon-golf-country-club.php [L]
RewriteRule ^courses/belle-acres-golf-course/?$ courses/belle-acres-golf-course.php [L]
RewriteRule ^courses/belle-meade-country-club/?$ courses/belle-meade-country-club.php [L]
RewriteRule ^courses/bluegrass-yacht-country-club/?$ courses/bluegrass-yacht-country-club.php [L]
RewriteRule ^courses/big-creek-golf-club/?$ courses/big-creek-golf-club.php [L]
RewriteRule ^courses/cedar-crest-golf-club/?$ courses/cedar-crest-golf-club.php [L]
RewriteRule ^courses/cherokee-country-club/?$ courses/cherokee-country-club.php [L]
RewriteRule ^courses/cheekwood-golf-club/?$ courses/cheekwood-golf-club.php [L]
RewriteRule ^courses/cheekwood-golf-club-test/?$ courses/cheekwood-golf-club-test.php [L]
RewriteRule ^courses/gaylord-springs-golf-links/?$ courses/gaylord-springs-golf-links.php [L]
RewriteRule ^courses/forrest-crossing-golf-course/?$ courses/forrest-crossing-golf-course.php [L]
RewriteRule ^courses/fox-den-country-club/?$ courses/fox-den-country-club.php [L]
RewriteRule ^courses/greystone-golf-course/?$ courses/greystone-golf-course.php [L]
RewriteRule ^courses/harpeth-hills-golf-course/?$ courses/harpeth-hills-golf-course.php [L]
RewriteRule ^courses/hermitage-golf-course/?$ courses/hermitage-golf-course.php [L]
RewriteRule ^courses/hillwood-country-club/?$ courses/hillwood-country-club.php [L]
RewriteRule ^courses/holston-hills-country-club/?$ courses/holston-hills-country-club.php [L]
RewriteRule ^courses/island-pointe-golf-club/?$ courses/island-pointe-golf-club.php [L]
RewriteRule ^courses/mccabe-golf-course/?$ courses/mccabe-golf-course.php [L]
RewriteRule ^courses/mirimichi-golf-course/?$ courses/mirimichi-golf-course.php [L]
RewriteRule ^courses/nashville-national-golf-links/?$ courses/nashville-national-golf-links.php [L]
RewriteRule ^courses/nashville-golf-athletic-club/?$ courses/nashville-golf-athletic-club.php [L]
RewriteRule ^courses/richland-country-club/?$ courses/richland-country-club.php [L]
RewriteRule ^courses/stones-river-country-club/?$ courses/stones-river-country-club.php [L]
RewriteRule ^courses/springhouse-golf-club/?$ courses/springhouse-golf-club.php [L]
RewriteRule ^courses/sweetens-cove-golf-club/?$ courses/sweetens-cove-golf-club.php [L]
RewriteRule ^courses/warriors-path-state-park-golf-course/?$ courses/warriors-path-state-park-golf-course.php [L]
RewriteRule ^courses/eagles-landing-golf-club/?$ courses/eagles-landing-golf-club.php [L]
RewriteRule ^courses/sevierville-golf-club/?$ courses/sevierville-golf-club.php [L]
RewriteRule ^courses/pine-oaks-golf-course/?$ courses/pine-oaks-golf-course.php [L]
RewriteRule ^courses/lambert-acres-golf-club/?$ courses/lambert-acres-golf-club.php [L]
RewriteRule ^courses/lake-tansi-golf-course/?$ courses/lake-tansi-golf-course.php [L]
RewriteRule ^courses/egwani-farms-golf-course/?$ courses/egwani-farms-golf-course.php [L]
RewriteRule ^courses/dead-horse-lake-golf-course/?$ courses/dead-horse-lake-golf-course.php [L]
RewriteRule ^courses/bear-trace-cumberland-mountain/?$ courses/bear-trace-cumberland-mountain.php [L]
RewriteRule ^courses/laurel-valley-country-club/?$ courses/laurel-valley-country-club.php [L]
RewriteRule ^courses/druid-hills-golf-club/?$ courses/druid-hills-golf-club.php [L]
RewriteRule ^courses/blackthorn-club/?$ courses/blackthorn-club.php [L]
RewriteRule ^courses/old-hickory-country-club/?$ courses/old-hickory-country-club.php [L]
RewriteRule ^courses/percy-warner-golf-course/?$ courses/percy-warner-golf-course.php [L]
RewriteRule ^courses/temple-hills-country-club/?$ courses/temple-hills-country-club.php [L]
RewriteRule ^courses/ted-rhodes-golf-course/?$ courses/ted-rhodes-golf-course.php [L]
RewriteRule ^courses/the-club-at-five-oaks/?$ courses/the-club-at-five-oaks.php [L]
RewriteRule ^courses/the-club-at-gettysvue/?$ courses/the-club-at-gettysvue.php [L]
RewriteRule ^courses/the-golf-club-of-tennessee/?$ courses/the-golf-club-of-tennessee.php [L]
RewriteRule ^courses/the-grove/?$ courses/the-grove.php [L]
RewriteRule ^courses/the-governors-club/?$ courses/the-governors-club.php [L]
RewriteRule ^courses/the-legacy-golf-course/?$ courses/the-legacy-golf-course.php [L]
RewriteRule ^courses/three-ridges-golf-course/?$ courses/three-ridges-golf-course.php [L]
RewriteRule ^courses/tpc-southwind/?$ courses/tpc-southwind.php [L]
RewriteRule ^courses/troubadour-golf-field-club/?$ courses/troubadour-golf-field-club.php [L]
RewriteRule ^courses/two-rivers-golf-course/?$ courses/two-rivers-golf-course.php [L]
RewriteRule ^courses/vanderbilt-legends-club/?$ courses/vanderbilt-legends-club.php [L]
RewriteRule ^courses/willow-creek-golf-club/?$ courses/willow-creek-golf-club.php [L]
RewriteRule ^courses/williams-creek-golf-course/?$ courses/williams-creek-golf-course.php [L]
RewriteRule ^courses/windtree-golf-course/?$ courses/windtree-golf-course.php [L]
RewriteRule ^courses/southern-hills-golf-country-club/?$ courses/southern-hills-golf-country-club.php [L]
RewriteRule ^courses/whittle-springs-golf-course/?$ courses/whittle-springs-golf-course.php [L]
RewriteRule ^courses/white-plains-golf-course/?$ courses/white-plains-golf-course.php [L]

# Handle news article pages (in subdirectory)
RewriteRule ^news/fedex-st-jude-championship-2025-complete-recap-community-impact/?$ news/fedex-st-jude-championship-2025-complete-recap-community-impact.php [L]
RewriteRule ^news/rose-captures-thrilling-playoff-victory-fleetwood-heartbreak/?$ news/rose-captures-thrilling-playoff-victory-fleetwood-heartbreak.php [L]
RewriteRule ^news/fleetwood-maintains-narrow-lead-scheffler-charges/?$ news/fleetwood-maintains-narrow-lead-scheffler-charges.php [L]
RewriteRule ^news/fleetwood-takes-command-weather-halts-play/?$ news/fleetwood-takes-command-weather-halts-play.php [L]
RewriteRule ^news/fedex-st-jude-first-round-bhatia-leads/?$ news/fedex-st-jude-first-round-bhatia-leads.php [L]
RewriteRule ^news/open-championship-2025-round-1-royal-portrush/?$ news/open-championship-2025-round-1-royal-portrush.php [L]
RewriteRule ^news/scheffler-extends-lead-open-championship-round-3/?$ news/scheffler-extends-lead-open-championship-round-3.php [L]
RewriteRule ^news/scheffler-seizes-control-open-championship-round-2/?$ news/scheffler-seizes-control-open-championship-round-2.php [L]
RewriteRule ^news/scheffler-wins-2025-british-open-final-round/?$ news/scheffler-wins-2025-british-open-final-round.php [L]

# Handle review article pages (in subdirectory)
RewriteRule ^reviews/top-10-putters-2025-amazon-guide/?$ reviews/top-10-putters-2025-amazon-guide.php [L]
RewriteRule ^reviews/top-5-golf-balls-2025/?$ reviews/top-5-golf-balls-2025.php [L]

# Handle auth pages (clean URLs without /auth/ prefix)
RewriteRule ^login/?$ auth/login.php [L]
RewriteRule ^register/?$ auth/register.php [L]
RewriteRule ^register-process/?$ auth/register-process.php [L]
RewriteRule ^registration-success/?$ auth/registration-success.php [L]
RewriteRule ^login-process/?$ auth/login-process.php [L]
RewriteRule ^logout/?$ auth/logout.php [L]
RewriteRule ^forgot-password/?$ auth/forgot-password.php [L]
RewriteRule ^forgot-password-process/?$ auth/forgot-password-process.php [L]
RewriteRule ^reset-password/?$ auth/reset-password.php [L]
RewriteRule ^verify-email/?$ auth/verify-email.php [L]
RewriteRule ^debug-register/?$ auth/debug-register.php [L]
RewriteRule ^debug-login/?$ auth/debug-login.php [L]

# Handle user pages (clean URLs without /user/ prefix)
RewriteRule ^profile/?$ user/profile.php [L]
RewriteRule ^edit-profile/?$ user/edit-profile.php [L]

# Handle newsletter pages
RewriteRule ^newsletter-subscribe/?$ newsletter-subscribe.php [L]
RewriteRule ^newsletter-unsubscribe/?$ newsletter-unsubscribe.php [L]
RewriteRule ^newsletter-test/?$ newsletter-test.php [L]

# Handle admin pages
RewriteRule ^admin/login/?$ admin/login.php [L]
RewriteRule ^admin/logout/?$ admin/logout.php [L]
RewriteRule ^admin/newsletter/?$ admin/newsletter-admin.php [L]
RewriteRule ^admin/create-admin/?$ admin/create-admin.php [L]
RewriteRule ^admin/change-password/?$ admin/change-password.php [L]
RewriteRule ^admin/debug-password/?$ admin/debug-password.php [L]
RewriteRule ^admin/set-new-password/?$ admin/set-new-password.php [L]
RewriteRule ^admin/fix-login/?$ admin/fix-login.php [L]
RewriteRule ^admin/test-hash/?$ admin/test-hash.php [L]
RewriteRule ^admin/check-registrations/?$ admin/check-registrations.php [L]
RewriteRule ^admin/run-migration/?$ admin/run-migration.php [L]

# General clean URL rewriting (internal)
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}.php -f
RewriteRule ^([^/]+)/?$ $1.php [L]

# Security headers
<IfModule mod_headers.c>
    Header always set X-Frame-Options DENY
    Header always set X-Content-Type-Options nosniff
    Header always set X-XSS-Protection "1; mode=block"
</IfModule>

# Cache static assets
<IfModule mod_expires.c>
    ExpiresActive On
    ExpiresByType image/jpg "access plus 1 month"
    ExpiresByType image/jpeg "access plus 1 month"
    ExpiresByType image/gif "access plus 1 month"
    ExpiresByType image/png "access plus 1 month"
    ExpiresByType text/css "access plus 1 month"
    ExpiresByType application/pdf "access plus 1 month"
    ExpiresByType text/javascript "access plus 1 month"
    ExpiresByType application/javascript "access plus 1 month"
</IfModule>